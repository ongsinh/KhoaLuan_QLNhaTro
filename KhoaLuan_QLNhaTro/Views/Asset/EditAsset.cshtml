@model KhoaLuan_QLNhaTro.Models.Asset

<form method="post" asp-action="EditAsset" id="editAssetForm">
    <!-- Tên tài sản -->
    <label for="editAssetName">Tên tài sản</label>
    <input type="text" id="editAssetName" name="Name" value="@Model.Name" required>

    <!-- Giá trị tài sản -->
    <label for="editAssetValue">Giá trị tài sản</label>
    <input type="text" id="editAssetValue" name="Price" value="@Model.Price" required>

    <!-- Số lượng -->
    <label for="editQuantity">Số lượng</label>
    <input type="number" id="editQuantity" name="Number" value="@Model.Number" required>

    <!-- Trạng thái -->
    <label for="editStatus">Trạng thái</label>
    <input type="text" id="editStatus" name="Status" value="@Model.Status" required>

    <!-- Chọn phòng -->
    <label for="editRoom">Chọn phòng</label>
    <select id="editRoom" name="RoomId" required>
        @{
            var rooms = ViewBag.Rooms as List<KhoaLuan_QLNhaTro.Models.Room>; // Ép kiểu ViewBag.Rooms
            if (rooms != null && Model.RoomId != Guid.Empty) // Kiểm tra danh sách phòng và RoomId
            {
                var selectedRoom = rooms.FirstOrDefault(r => r.Id == Model.RoomId);
                if (selectedRoom != null)
                {
                    <option value="@selectedRoom.Id" selected>@selectedRoom.Name</option>
                }

                foreach (var room in rooms)
                {
                    if (room.Id != Model.RoomId) // Đưa các phòng còn lại vào danh sách
                    {
                        <option value="@room.Id">@room.Name</option>
                    }
                }
            }
        }
    </select>


    @* <select id="editRoom" name="RoomId" required>
        @foreach (var room in ViewBag.Rooms as List<KhoaLuan_QLNhaTro.Models.Room>)
        {
            <option value="@room.Id" selected="@((room.Id == Model.RoomId) ? "selected" : "")">@room.Name</option>
        }
    </select> *@

    <!-- Trường AssetId ẩn -->
    <input type="hidden" id="editAssetId" name="Id" value="@Model.Id">

    <button type="submit" class="submit-modal">Lưu thay đổi</button>
    <button type="button" class="close-modal" onclick="closeModal('editModal')">Đóng</button>
</form>
